<html>
<head>
	<!--script src="js/vendor/moment-with-locales.min.js"></script-->
	<script>
	onsload = function () {
	var x = new XMLHttpRequest();
	x.open("GET","http://www.faroo.com/api?q=ye+cracke&start=1&length=10&l=en&src=news&f=json&key=cwzakMT4Nx9kI02oyyDUQDcQfjg_");
	x.onload = function () {
		/*var items = this.responseXML.querySelectorAll("item"),
			news = [];
		[].forEach.apply(items, [function (itemNode) {
			var images = itemNode.querySelectorAll("thumbnail")
			news.push({
				title:itemNode.querySelector("title").textContent,
				subtitle:  moment(itemNode.querySelector("pubDate").textContent).calendar(),
				html: itemNode.querySelector("guid").textContent,
				image:images[images.length-1].getAttribute("url"),
				text: itemNode.querySelector("description").textContent

			})
		}])*/
		document.getElementById("foo").innerHTML = (this.responseText)
	}
	x.onerror = function () {
		console.log(arguments)
	}
	x.send();
}

var json = {
	foo: {
		zoo: [1,2,3,{boo:"boo",og:[1,2,{"noo":1}]}]
	}
}

Object.prototype.iterate = function (stack,func,scope) {
	if (this.constructor == Object) {
		var obj = this,
			newStack = [this].concat(stack);
		Object.keys(this).forEach(function (key) {
			var value = obj[key]
			func.call(scope||obj,value,key,obj,stack);
			if (typeof value == "object") {
				value.iterate(newStack,func,scope)
			}
		})
	}
}
Array.prototype.iterate = function (stack,func,scope) {
	var obj = this,
		newStack = stack.concat()
	newStack.unshift(this)

	this.forEach(function (value,key,array) {
		func.call(scope||obj,value,key,array,stack);
		if (typeof value == "object") {

			value.iterate(newStack,func,scope)
		}
	})
}



var foo = [1,2,3,4,5,6,7],
	ugly = {ugly:"ugly"}


json.iterate([],function (value,key,object,stack){
	console.log(stack)
	

})



	</script>
</head>
<body>
<div id="foo"></foo>



</body>
<!--
<title>Pensioner bonds to pay 2.8% and 4%</title>  
      <description>New pensioner bonds are to carry market-leading interest rates, the government announces, with the products due to be launched in January.</description>  
      <link>http://www.bbc.co.uk/news/business-30452877#sa-ns_mchannel=rss&amp;ns_source=PublicRSS20-sa</link>  
      <guid isPermaLink="false">http://www.bbc.co.uk/news/business-30452877</guid>  
      <pubDate>Fri, 12 Dec 2014 17:35:25 GMT</pubDate>  
      <media:thumbnail width="66" height="49" url="http://news.bbcimg.co.uk/media/images/79697000/jpg/_79697883_478694863.jpg"/>  
      <media:thumbnail width="144" height="81" url="http://news.bbcimg.co.uk/media/images/79697000/jpg/_79697884_478694863.jpg"/> 


-->





</html>